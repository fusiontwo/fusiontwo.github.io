---
layout: single
title: "Chapter9. 함수와 변수(3)"
---

# 가변 매개 변수 함수

+ 원칙 : 함수의 매개 변수의 개수는 고정   
+ printf()의 매개 변수는 가변적   
+ C언어에는 매개 변수의 개수를 호출할 때마다 변경할 수 있는 기능이 있음   

1. 가변 매개 변수 함수의 원형은 ...을 이용하여 선언   
2. va_start()를 호출하여 가변 매개 변수 기능을 시작, 가변 매개 변수 함수의 첫 번째 인수는 매개 변수의 개수이다.   
3. va_arg()를 호출할 때마다 인수들이 하나씩 반환, va_arg()를 호출할 때는 va_list 타이브이 변수와 인수의 타입을 전달 -> va_arg()가 반환하는 값이 인수가 된다.   
4. 인수의 개수만큼 va_arg()를 호출   
5. va_end(va_list)를 호출하여 가변 매개 변수 기능을 종료   

# 순환 호출

+ 순환(recursion) : 함수가 자기 자신을 호출하는 것   
+ 순환은 많은 문제들을 해결하는데 독특한 개념적인 프레임 워크를 제공한다.   
+ 팩토리얼을 정의하는데 다시 팩토리얼 (n-1)!이 사용됨 -> '순환적'   
+ n!을 구하는 과정 : (n-1)!을 구하여 n을 곱하여 n!을 계산한다. 그렇다면 (n-1)!은 어떻게 계산하는가? n! 값을 계산하는 함수이므로 함수의 인수를 (n-1)!로 변경하여 호출   
+ n의 값이 5이면 5*factorial(4)이 수행되고 factorial(4)이 호출된다. 같은 과정으로 factorial(3), factorial(2), factorial(1)이 차례대로 호출된다. factorial(1)이 호출되면 if 문 조건이 참이 되고, return 문이 수행되어서 순환 호출을 먼춘다.   

# 순환 함수의 구조
순환을 멈추는 부분 + 자기 자신을 순환적으로 호출하는 부분   
int factorial(int n)   
{   
  if(n <= 1) return 1; -> 순환을 멈추는 부분   
  else return n * factorial(n-1); -> 순환호출을 하는 부분   
}   
+ 순환 호출을 멈추는 부분이 없다면 시스템 스택을 다 사용할 때까지 순환 호출되다가 에러 발생   

# 2진수 형식으로 출력하기

+ C에는 정수를 2진수로 출력하는 기능이 없음   
+ 10진수를 2진수로 바꾸는 방법 : 10진수를 2로 나누어서 몫이 0이 될 때까지 나머지를 기록했다가 나머지를 역순으로 출력   
7 = 2*3 + 1   
3 = 2*1 + 1   
1 = 2*0 + 1   
+ 순환 호출이 시작되기 전에 출력하면 정순으로, 순환 호출을 한 후에 출력하면 역순으로 출력된다.   

# 최대 공약수 구하기

+ 유클리드의 호제법 : 두 수 x와 y의 최대 공약수는 y와 (x % y)의 최대 공약수와 같으며, x와 0의 최대 공약수는 x이다.(단, x > y 이어야 한다.)   
+ 최대 공약수를 구하는 함수 int gcd(int x, int y)   
gcd(x, y) = gcd(y, x % y)   
gcd(x, 0) = x   

# 하노이의 탑(The Tower of Hanoi) 문제

+ 막대 3개가 있다. 그중 한 막대에는 크기가 모두 다른 원판 64개가 있고, 크기가 큰 것부터 아래에 놓이도록 차례로 쌓았다.   
-> 원판을 빈 막대 중 어느 한 곳으로 모두 옮겨야 한다.   
+ 한 번에 한 개씩 옮겨야 한다.   
+ 절대로 작은 원판 위에 큰 원판을 올릴 수 없다.   
+ 원판 이동 횟수는 최소로 한다.   
+ 맨 위에 있는 원판만 이동할 수 있다.   
+ 중간의 막대를 임시적으로 이용할 수 있으나 앞의 조건들을 지켜야 한다.   

# 스텁 기법

+ 복잡한 프로그램을 개발하려면 '의사 코드'나 '구조도'를 통해 기본적인 작업부터 나열하도록.   
+ 더 작고 취급이 용이한 작업들로 분할한 후, 코딩을 한다.   
+ 함수를 모두 구현하지 않고 함수의 입력과 출력 부분만 코딩하여 프로그램의 실행을 검증할 수 있다.   
+ 이렇게 함수의 외부 인터페이스만을 구현한 것을 '스텁(stub)'이라고 한다.   
+ 함수를 개별적으로 구현하여서 스텁들을 구현된 함수로 대체하여서 프로그램을 완성한다.   

# 스텁 예시

어떤 함수가 PC 하드웨어로부터 온도를 읽어야 한다. 그런데 아직 코드가 준비되지 않았다. 코드 대신 임시로 49.0이라는 고정된 값을 적는다. 고정된 값이 반환될 것이고, 프로그램의 다른 부분들이 맞게 동작되는지 검사할 수 있다.   
