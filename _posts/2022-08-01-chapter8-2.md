---
layout: single
title: "Chapter8. 함수(2)"
---

# 함수 원형(function prototype)

+ 함수를 사용할 때 미리 컴파일러에게 함수에 대한 정보를 알려야 한다.   
+ 함수를 먼저 사용하고 나중에 정의하면 오류가 발생한다.   
+ 이렇게 하지 못할 때는 함수 원형을 정의해준다.   
+ 반환형, 함수 이름, 매개변수를 함수가 정의되기 전에 미리 알려주는 것(함수 헤더에 세미콜론(;)만 추가한 것과 같다.)   
+ 매개 변수의 이름은 적지 않아도 된다.(매개 변수의 자료형만 적으면 된다.)   
ex) double c_to_f(double);   
ex) int get_integer(void);   
+ 함수 원형은 컴파일러에게 미리 함수에 대한 정보를 주어서, 함수의 매개 변수 검사와 반환형 검사를 하게 한다.   
+ 함수 원형이 주어지면 함수 정의를 만나기 전에도 함수 호출시, 인수의 유형과 개수가 정확한지, 반환값도 정확하게 사용하고 있는지 검사할 수 있다.   

# 함수 원형을 사용하지 않는 방법

+ 함수의 정의가 먼저 등장한다면 구태여 함수 원형을 표시할 필요가 없다. 하지만 그렇게 하지 못하는 경우도 있다.   
ex) 사용자 정의 함수 sub1()과 sub2()가 있다. sub1()에서 sub2()를 호출하고 동시에 sub2()에서도 sub1()을 호출한다.   
-> 함수의 위치를 아무리 바꾸어도 함수 원형 없이는 컴파일 불가능   
+ 항상 함수 원형을 사용하는 것이 좋다. 함수 원형을 사용하지 않는 방법은 비교적 단순한 프로그램에서만 가능한 방식으로, 표준적인 방법이 아니다.   

# 함수 원형과 헤더 파일

+ 왜 printf() 함수를 사용하면서 항상 stdio.h 헤더파일을 포함시켰을까?   
stdio.h에는 printf() 함수에 대한 원형이 정의되어 있다.   
+ 함수 원형을 헤더 파일에 저장하고, 이 헤더 파일을 소스 파일에 포함시키는 것이 일반적   
+ 시스템에서 제공되는 헤더 파일이 있고, 프로그래머도 헤더 파일을 만들 수 있음   
-> 텍스트 에디터로 파일을 편집하고 확장자만 .h로 해주면 된다. 소스 파일에서 include를 이용하여 불러들인다.   

# 링크 오류

+ 링크 오류는 컴파일러가 함수를 찾지 못했을 때 발생   
+ 함수 이름이 오류 메시지로 표시   

# 컴파일러가 제공하는 표준 라이브러리 함수

표준 입출력, 수학 연산, 문자열 처리, 시간 처리, 오류 처리, 데이터 검색과 정렬   
+ 라이브러리 함수를 사용하려면 원형이 들어 있는 헤더 파일을 포함시키면 된다.   
ex) sqrt() 함수를 사용하려면 math.h 헤더 파일을 포함시킨다.   

# 난수 함수

+ 난수(random number) : 규칙성이 없이 임의로 생성되는 수   
  + 암호학, 시뮬레이션, 게임(주사위, 트럼프 게임), 1회용 패스워드 발생기에서 사용   
+ 의사 난수(pseudo random number) : 정말 다음에 뭐가 나올지 모르는 진짜 난수가 아니라 초기값에 따라서 나오는 순서가 어느 정도 결정되어 있는 난수   
  + rand()는 의사 난수를 생성하는 함수로, 헤더파일 stdlib.h에 정의되어 있다. 0 ~ RAND_MAX 범위의 정수를 생성한다. RAND_MAX는 rand()가 생성할 수 있는 최대 난수, 비주얼 스튜디오에서 0x7fff(32767로 정의)   

+ 그냥 rand() 함수를 쓰면 난수는 0에서 32767 사이의 정수로 생성된다.   
+ 수의 범위를 1~45로 하고 싶다면 어떻게 할까?   
rand의 반환값을 45로 나누어서 나머지만 취한다. 그러면 0~44 값이 생성되므로, 여기에 1씩 더해준다.   
-> printf("%d", 1+(rand()%45));   

# 시드(seed)

+ 위의 프로그램에서는 항상 같은번호가 생성된다. 매번 난수를 다르게 생성하려면 시드를 사용한다.   
+ 시드값이 달라지면 이후 생성되는 모든 난수값이 달라진다.   
+ 시드값으로 예측이 불가능하면서 상황에 따라 변경되는 값을 사용한다. -> 대표적으로 '시각'   

+ time() : 표준 라이브러리에서의 현재 시각   
+ srand() : srand() 함수를 이용하여, 위의 현재 시각을 시드값으로 설정한다.   
srand((unsigned)time(NULL));   
