---
layout: single
title: "Chapter11. 포인터(3)"
---

# <포인터 사용시 주의할 점>

# 초기화하지 않고 사용하기

- 가장 흔한 오류는 초기화가 안 된 포인터를 사용하여 쓰레기값을 가지고 있는 경우이다.   
- 운영체제가 이러한 잘못된 메모리의 접근을 차단하지만, 이런 코드는 사용하지 않는 것이 좋다.   
int main(void)   
{   
    int *p;  // 포인터 p는 초기화가 안되어 있음   
  
    *p = 100;  // 아주 위험한 코드!   
    return 0;   
}   

# NULL 포인터의 사용

- 포인터가 아무것도 가리키고 있지 않을 때는 NULL(0)로 설정하는 것이 바람직하다. NULL은 헤더 파일 stdio.h에 0으로 정의되어 있다.   
#define NULL ((void *)0)   
- int *p = NULL;   
- 주소 0을 액세스 시도 - 자동적으로 오류를 감지 - 해결   
- 주소 0에서 보통 CPU가 사용하는 영역 (일반 프로그램은 주소 0에 접근할 수 없다.)   

- 포인터 p가 유효한지 검사하는 방법

if(p != NULL)   
      printf("포인터 p는 유효합니다.\n");   
else   
      printf("포인터 p는 유효하지 않습니다.\n");   

# 포인터 타입과 변수의 타입은 일치하여야 한다

- 포인터는 가리키는 자료형에 따라 여러 가지 타입이 존재하는데, int형 포인터는 int형만을 가리키고, double형 포인터는 double형만을 가리킬 수 있다.   
- 포인터에 의하여 참조되는 객체의 크기와 저장 형식을 결정하는 것은 포인터의 타입이다.   
#include <stdio.h>   
int main(void)   
{   
	int i;   
  double *pd;   
  
	pd = &i;   
  *pd = 36.5;   
  return 0;   
}   
- int가 4byte이고, double이 8byte이므로 double을 int에 저장할 경우, 이웃 4바이트의 값이 변경된다.   

# 절대 주소 사용

- 절대 주소는 아두이노, 엠베디드 시스템에서만 사용한다.   
- 윈도우에서는 10000과 같은 절대 주소를 사용하지 않는 것이 좋다.   
- 프로그래머는 절대 주소 10000이 어떤 용도로 사용되는 공간인지 모른다.   
- 메모리 관리는 운영 체제의 고유한 권한으로 프로그래머가 관여하면 안 된다.   
- 내장 프로그램의 경우, 운영 체제가 없이 프로그래머가 직접 메모리 관리를 하는 경우가 있고, 직접 숫자로 주소값을 넣기도 한다.   
int main(void)   
{   
    int *p = 10000;  // 절대 주소는 특수한 경우에만 사용   
    
    *p = 123;  // 10000번지에 정수 123이 저장된다.   
    return 0;   
 }   
 
 ---------------------------------------------------------------------------------------------------------   
 
 # 포인터 연산
 
 - 포인터에 대해서는 사칙 연산 중에서 덧셈과 뺄셈만이 허용되며, 일반적인 변수에 대한 연산과는 조금 다르다.   
 - 덧셈 연산자: ++   
 - 뺄셈 연산자: --   
 - 증가하는 또는 감소하는 값은 포인터가 가리키는 객체의 크기이다.   
 - char형 포인터를 증가시키면 char형의 크기인 1Byte만큼 증가   
 - short형 포인터를 증가시키면 short형의 크기인 2Byte만큼 증가   
 - int형 포인터를 증가시키면 int형의 크기는 4Byte만큼 증가   
 - float형 포인터를 증가시키면 float형의 크기는 4Byte만큼 증가   
 - double형 포인터를 증가시키면 double형의 크기인 8Byte만큼 증가   
 
 - 포인터에 정수를 더하거나 뺄 때도 일반 연산과 다르다.   
 - 자료형의 크기가 s일 때 포인터에 정수 n을 더하면 포인터의 값은 s*n만큼 증가된다.   

